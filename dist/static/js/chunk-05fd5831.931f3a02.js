(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05fd5831"],{"0d20":function(e,t,r){},"40e0":function(e,t,r){"use strict";r("b8f0")},"601c":function(e,t,r){},"707c":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"project-index-container"},[r("div",{staticClass:"title"},[r("h2",[e._v("项目列表")]),r("el-button",{attrs:{size:"mini"},on:{click:e.add}},[e._v("添加项目")])],1),r("div",{staticClass:"tables"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,"header-cell-style":{background:"#ececec"},height:"calc(100% - 60px)",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),r("el-table-column",{attrs:{prop:"id",label:"id",width:"50"}}),r("el-table-column",{attrs:{prop:"name",label:"项目名称",width:"100"}}),r("el-table-column",{attrs:{prop:"prefix_address",label:"前缀地址（域名）",width:"200"}}),r("el-table-column",{attrs:{prop:"project_type",label:"项目类型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.project_type?r("span",[e._v("以太坊")]):e._e(),2==t.row.project_type?r("span",[e._v("波场")]):e._e()]}}])}),r("el-table-column",{attrs:{prop:"currency",label:"币种",width:"100"}}),r("el-table-column",{attrs:{prop:"contract_address",label:"合约地址",width:"250"}}),r("el-table-column",{attrs:{prop:"be_auth_address",label:"被授权地址",width:"250"}}),r("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(r){return e.updateProject(t.row)}}},[e._v("修改")]),r("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(r){return e.deleteProject(t.row)}}},[e._v("删除")])]}}])})],1),r("el-pagination",{attrs:{"current-page":e.pages.page,"page-sizes":[10,20,50,100],"page-size":e.pages.per_page,layout:"total, sizes, prev, pager, next, jumper",background:"",total:e.pages.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),r("info-dialog",{ref:"infoDialog",on:{success:e.success}}),r("add-dialog",{ref:"addDialog",on:{success:e.success}})],1)},s=[],n=(r("2f62"),r("b775"));function o(e){return Object(n["a"])({url:"/v1/admin/project-manage/list",method:"get",params:e})}function i(e){return Object(n["a"])({url:"/v1/admin/project-manage/add",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/v1/admin/project-manage/update",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/v1/admin/project-manage/delete/"+e.id,method:"delete",data:e})}var d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"price-dialog"},[r("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"修改项目",visible:e.dialogVisible,width:"50%","before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("div",{staticClass:"content"},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px",size:"mini",rules:e.rules}},[r("el-form-item",{attrs:{label:"Id",prop:"id"}},[r("el-input",{attrs:{disabled:""},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),r("el-form-item",{attrs:{label:"项目名称",prop:"name"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"前缀地址",prop:"prefix_address"}},[r("el-input",{model:{value:e.form.prefix_address,callback:function(t){e.$set(e.form,"prefix_address",t)},expression:"form.prefix_address"}})],1),r("el-form-item",{attrs:{label:"项目类型",prop:"project_type"}},[r("el-select",{model:{value:e.form.project_type,callback:function(t){e.$set(e.form,"project_type",t)},expression:"form.project_type"}},[r("el-option",{attrs:{label:"以太坊",value:1}}),r("el-option",{attrs:{label:"波场",value:2}})],1)],1),r("el-form-item",{attrs:{label:"币种",prop:"currency"}},[r("el-input",{model:{value:e.form.currency,callback:function(t){e.$set(e.form,"currency",t)},expression:"form.currency"}})],1),r("el-form-item",{attrs:{label:"合约地址",prop:"contract_address"}},[r("el-input",{model:{value:e.form.contract_address,callback:function(t){e.$set(e.form,"contract_address",t)},expression:"form.contract_address"}})],1),r("el-form-item",{attrs:{label:"被授权地址",prop:"be_auth_address"}},[r("el-input",{model:{value:e.form.be_auth_address,callback:function(t){e.$set(e.form,"be_auth_address",t)},expression:"form.be_auth_address"}})],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"mini"},on:{click:e.handleClose}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.sure}},[e._v("确 定")])],1)])],1)},u=[],f=(r("b0c0"),r("a9e3"),r("5f87")),p={name:"info-dialog",data:function(){return{dialogVisible:!1,loading:!1,val:{},passList:[],form:{id:null,name:null,prefix_address:null,project_type:null,currency:null,contract_address:null,be_auth_address:null},rules:{name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],prefix_address:[{required:!0,message:"请输入前缀地址",trigger:"blur"}],project_type:[{required:!0,message:"请选择项目类型",trigger:"blur"}],currency:[{required:!0,message:"请输入币种",trigger:"blur"}],contract_address:[{required:!0,message:"请输入合约地址",trigger:"blur"}],be_auth_address:[{required:!0,message:"请输入被授权地址",trigger:"blur"}]},action:"https://zillonline.com:12443/api/v1/admin/upload",headers:{Authorization:Object(f["a"])()}}},mounted:function(){},methods:{show:function(e){this.val=e,this.form={id:e.id,name:e.name,prefix_address:e.prefix_address,project_type:e.project_type,currency:e.currency,contract_address:e.contract_address,be_auth_address:e.be_auth_address},this.dialogVisible=!0},sure:function(){var e=this;this.$refs["form"].validate((function(t){if(t){e.loading=!0;var r={id:String(e.form.id),name:e.form.name,prefix_address:e.form.prefix_address,project_type:Number(e.form.project_type),currency:e.form.currency,contract_address:e.form.contract_address,be_auth_address:e.form.be_auth_address};l(r).then((function(t){if(e.loading=!1,200!=t.status_code)return e.$notify({title:"提示",message:"修改失败",type:"error"}),!1;e.$notify({title:"提示",message:"修改成功",type:"success"}),e.handleClose(),e.$emit("success")}))}}))},handleClose:function(){this.dialogVisible=!1,this.reset()},reset:function(){this.loading=!1,this.form={id:null,name:null,prefix_address:null,project_type:null,currency:null,contract_address:null,be_auth_address:null},this.$refs.form.clearValidate()}}},m=p,g=(r("9b9b"),r("40e0"),r("2877")),_=Object(g["a"])(m,d,u,!1,null,"5af75f38",null),b=_.exports,h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"add-dialog"},[r("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"新增项目",visible:e.dialogVisible,width:"50%","before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("div",{staticClass:"content"},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px",size:"mini",rules:e.rules}},[r("el-form-item",{attrs:{label:"项目名称",prop:"name"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"前缀地址",prop:"prefix_address"}},[r("el-input",{model:{value:e.form.prefix_address,callback:function(t){e.$set(e.form,"prefix_address",t)},expression:"form.prefix_address"}})],1),r("el-form-item",{attrs:{label:"项目类型",prop:"project_type"}},[r("el-select",{model:{value:e.form.project_type,callback:function(t){e.$set(e.form,"project_type",t)},expression:"form.project_type"}},[r("el-option",{attrs:{label:"以太坊",value:1}}),r("el-option",{attrs:{label:"波场",value:2}})],1)],1),r("el-form-item",{attrs:{label:"币种",prop:"currency"}},[r("el-input",{model:{value:e.form.currency,callback:function(t){e.$set(e.form,"currency",t)},expression:"form.currency"}})],1),r("el-form-item",{attrs:{label:"合约地址",prop:"contract_address"}},[r("el-input",{model:{value:e.form.contract_address,callback:function(t){e.$set(e.form,"contract_address",t)},expression:"form.contract_address"}})],1),r("el-form-item",{attrs:{label:"被授权地址",prop:"be_auth_address"}},[r("el-input",{model:{value:e.form.be_auth_address,callback:function(t){e.$set(e.form,"be_auth_address",t)},expression:"form.be_auth_address"}})],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"mini"},on:{click:e.handleClose}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.sure}},[e._v("确 定")])],1)])],1)},v=[],y={name:"add-dialog",data:function(){return{dialogVisible:!1,loading:!1,form:{name:null,prefix_address:null,project_type:null,currency:null,contract_address:null,be_auth_address:null},rules:{name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],prefix_address:[{required:!0,message:"请输入前缀地址",trigger:"blur"}],project_type:[{required:!0,message:"请选择项目类型",trigger:"blur"}],currency:[{required:!0,message:"请输入币种",trigger:"blur"}],contract_address:[{required:!0,message:"请输入合约地址",trigger:"blur"}],be_auth_address:[{required:!0,message:"请输入被授权地址",trigger:"blur"}]}}},mounted:function(){},methods:{show:function(){this.dialogVisible=!0},sure:function(){var e=this;this.$refs["form"].validate((function(t){if(t){e.loading=!0;var r={name:e.form.name,prefix_address:e.form.prefix_address,project_type:Number(e.form.project_type),currency:e.form.currency,contract_address:e.form.contract_address,be_auth_address:e.form.be_auth_address};i(r).then((function(t){if(e.loading=!1,200!=t.status_code)return e.$notify({title:"提示",message:"新增失败",type:"error"}),!1;e.$notify({title:"提示",message:"新增成功",type:"success"}),e.handleClose(),e.$emit("success")})).catch((function(t){e.loading=!1}))}}))},handleClose:function(){this.dialogVisible=!1,this.reset()},reset:function(){this.loading=!1,this.form={name:null,prefix_address:null,project_type:null,currency:null,contract_address:null,be_auth_address:null},this.$refs.form.clearValidate()}}},j=y,x=(r("ce78"),r("c3f3"),Object(g["a"])(j,h,v,!1,null,"54a9a362",null)),w=x.exports,$={name:"project-index",components:{infoDialog:b,addDialog:w},data:function(){return{base:Object({NODE_ENV:"production",VUE_APP_BASE_API:"https://zillonline.com:12443/api",BASE_URL:"/"}).VUE_APP_BASE_ADDRESS,list:[],disabled:!0,multipleSelection:[],pages:{page:1,per_page:10,total:null}}},mounted:function(){this.getProjectList()},methods:{getProjectList:function(){var e=this,t={page:this.pages.page,per_page:this.pages.per_page};o(t).then((function(t){console.log(t),200==t.status_code&&(e.list=t.data.data,e.pages.total=t.data.total)}))},handleSelectionChange:function(e){this.multipleSelection=e,console.log(e),1==e.length?this.disabled=!1:this.disabled=!0},handleSizeChange:function(e){this.pages.per_page=e,this.getProjectList()},handleCurrentChange:function(e){this.pages.page=e,this.getProjectList()},updateProject:function(e){this.$refs.infoDialog.show(e)},add:function(){this.$refs.addDialog.show()},success:function(){this.getProjectList()},deleteProject:function(e){var t=this;this.$confirm("此操作将删除该项目, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var r={id:String(e.id)};c(r).then((function(e){200==e.status_code?(t.$message({type:"success",message:"删除成功!"}),t.getProjectList()):t.$message({type:"error",message:"删除失败"})}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},k=$,C=(r("78f7"),Object(g["a"])(k,a,s,!1,null,"7c756ac0",null));t["default"]=C.exports},"78f7":function(e,t,r){"use strict";r("cdac")},"97d2":function(e,t,r){},"9b9b":function(e,t,r){"use strict";r("601c")},a9e3:function(e,t,r){"use strict";var a=r("83ab"),s=r("da84"),n=r("94ca"),o=r("6eeb"),i=r("5135"),l=r("c6b6"),c=r("7156"),d=r("c04e"),u=r("d039"),f=r("7c73"),p=r("241c").f,m=r("06cf").f,g=r("9bf2").f,_=r("58a8").trim,b="Number",h=s[b],v=h.prototype,y=l(f(v))==b,j=function(e){var t,r,a,s,n,o,i,l,c=d(e,!1);if("string"==typeof c&&c.length>2)if(c=_(c),t=c.charCodeAt(0),43===t||45===t){if(r=c.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:a=2,s=49;break;case 79:case 111:a=8,s=55;break;default:return+c}for(n=c.slice(2),o=n.length,i=0;i<o;i++)if(l=n.charCodeAt(i),l<48||l>s)return NaN;return parseInt(n,a)}return+c};if(n(b,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var x,w=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof w&&(y?u((function(){v.valueOf.call(r)})):l(r)!=b)?c(new h(j(t)),r,w):j(t)},$=a?p(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;$.length>k;k++)i(h,x=$[k])&&!i(w,x)&&g(w,x,m(h,x));w.prototype=v,v.constructor=w,o(s,b,w)}},b8f0:function(e,t,r){},c3f3:function(e,t,r){"use strict";r("97d2")},cdac:function(e,t,r){},ce78:function(e,t,r){"use strict";r("0d20")}}]);