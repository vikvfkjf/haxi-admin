(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f313739"],{"01eb":function(e,t,n){"use strict";n("173e")},1117:function(e,t,n){"use strict";n("1e63")},"173e":function(e,t,n){},"1e63":function(e,t,n){},3558:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return c}));var a=n("b775");function l(e){return Object(a["a"])({url:"/v1/admin/bet-manage/list",method:"get",params:e})}function s(e){return Object(a["a"])({url:"/v1/admin/bet-manage/update",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/v1/admin/bet-manage/delete/"+e.id,method:"delete",data:e})}function r(e){return Object(a["a"])({url:"/v1/admin/bet-manage/seg-report",method:"get",params:e})}function i(e){return Object(a["a"])({url:"/v1/admin/bet-manage/sum-report",method:"get",params:e})}function u(e){return Object(a["a"])({url:"/v1/admin/bet-manage/refund",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/v1/admin/bet-manage/run-history-task",method:"post",data:e})}},"6e87":function(e,t,n){"use strict";n("9b8e")},"9b8e":function(e,t,n){},a9e3:function(e,t,n){"use strict";var a=n("83ab"),l=n("da84"),s=n("94ca"),o=n("6eeb"),r=n("5135"),i=n("c6b6"),u=n("7156"),c=n("c04e"),d=n("d039"),f=n("7c73"),m=n("241c").f,p=n("06cf").f,b=n("9bf2").f,_=n("58a8").trim,h="Number",g=l[h],v=g.prototype,k=i(f(v))==h,w=function(e){var t,n,a,l,s,o,r,i,u=c(e,!1);if("string"==typeof u&&u.length>2)if(u=_(u),t=u.charCodeAt(0),43===t||45===t){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:a=2,l=49;break;case 79:case 111:a=8,l=55;break;default:return+u}for(s=u.slice(2),o=s.length,r=0;r<o;r++)if(i=s.charCodeAt(r),i<48||i>l)return NaN;return parseInt(s,a)}return+u};if(s(h,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var y,$=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof $&&(k?d((function(){v.valueOf.call(n)})):i(n)!=h)?u(new g(w(t)),n,$):w(t)},x=a?m(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;x.length>C;C++)r(g,y=x[C])&&!r($,y)&&b($,y,p(g,y));$.prototype=v,v.constructor=$,o(l,h,$)}},ac60:function(e,t,n){},bf43:function(e,t,n){},cadb:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("ac1f"),n("5319"),n("4d63"),n("25f0");function a(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var a in n)if(new RegExp("(".concat(a,")")).test(t)){var s=n[a]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?s:l(s))}return t}function l(e){return("00"+e).substr(e.length)}},ce61:function(e,t,n){"use strict";n("ac60")},d3ad:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bet-index-container"},[n("div",{staticClass:"title"},[n("h2",[e._v("投注列表")]),n("el-button",{attrs:{size:"mini"},on:{click:e.add}},[e._v("运行区块任务")])],1),n("div",{staticClass:"tables"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,"header-cell-style":{background:"#ececec"},height:"calc(100% - 60px)",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{prop:"id",label:"id",width:"50"}}),n("el-table-column",{attrs:{prop:"bet_no",label:"投注编号",width:"100"}}),n("el-table-column",{attrs:{prop:"game_no",label:"游戏编号",width:"100"}}),n("el-table-column",{attrs:{prop:"game_type",label:"游戏类型",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.game_type?n("span",[e._v("牛牛")]):e._e(),2==t.row.game_type?n("span",[e._v("尾号")]):e._e(),3==t.row.game_type?n("span",[e._v("单双")]):e._e()]}}])}),n("el-table-column",{attrs:{prop:"belong_user_no",label:"所属后台人员编号",width:"100"}}),n("el-table-column",{attrs:{prop:"bet_money",label:"投注金额",width:"80"}}),n("el-table-column",{attrs:{prop:"recv_money",label:"收到金额",width:"80"}}),n("el-table-column",{attrs:{prop:"transactions_id",label:"交易码",width:"100"}}),n("el-table-column",{attrs:{prop:"block_hash",label:"区块哈希",width:"100"}}),n("el-table-column",{attrs:{prop:"block_num",label:"区块高度",width:"100"}}),n("el-table-column",{attrs:{prop:"from_wallet_address",label:"来源地址",width:"100"}}),n("el-table-column",{attrs:{prop:"to_wallet_address",label:"目标地址",width:"100"}}),n("el-table-column",{attrs:{prop:"result",label:"输赢结果",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.result?n("span",[e._v("用户赢")]):e._e(),2==t.row.result?n("span",[e._v("用户输")]):e._e()]}}])}),n("el-table-column",{attrs:{prop:"send_money",label:"派发金额",width:"80"}}),n("el-table-column",{attrs:{prop:"send_status",label:"派发状态",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.send_status?n("span",[e._v("待派发")]):e._e(),2==t.row.send_status?n("span",[e._v("已派发")]):e._e(),3==t.row.send_status?n("span",[e._v("无需派发")]):e._e(),4==t.row.send_status?n("span",[e._v("派发失败")]):e._e()]}}])}),n("el-table-column",{attrs:{prop:"send_type",label:"派发类型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.send_type?n("span",[e._v("系统")]):e._e(),2==t.row.send_type?n("span",[e._v("管理员")]):e._e()]}}])}),n("el-table-column",{attrs:{prop:"coin_type",label:"钱包类别",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.coin_type?n("span",[e._v("USDT")]):e._e(),2==t.row.coin_type?n("span",[e._v("TRX")]):e._e()]}}])}),n("el-table-column",{attrs:{prop:"send_user_no",label:"派发后台人员编号",width:"100"}}),n("el-table-column",{attrs:{prop:"service_fee",label:"服务费",width:"50"}}),n("el-table-column",{attrs:{prop:"service_fee_percent",label:"服务费百分比",width:"50"}}),n("el-table-column",{attrs:{prop:"wallet_kind",label:"钱包类别",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.wallet_kind?n("span",[e._v("ERC20")]):e._e(),2==t.row.wallet_kind?n("span",[e._v("TRC20")]):e._e(),3==t.row.wallet_kind?n("span",[e._v("BEP20")]):e._e()]}}])}),n("el-table-column",{attrs:{prop:"service_fee_percent",label:"服务费百分比",width:"50"}}),n("el-table-column",{attrs:{prop:"created_at",label:"创建时间",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e._f("formatDate")(t.row.created_at)))])]}}])}),n("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(n){return e.refund(t.row)}}},[e._v("退款")]),n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(n){return e.updateBet(t.row)}}},[e._v("修改")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(n){return e.deleteBet(t.row)}}},[e._v("删除")])]}}])})],1),n("el-pagination",{attrs:{"current-page":e.pages.page,"page-sizes":[10,20,50,100],"page-size":e.pages.per_page,layout:"total, sizes, prev, pager, next, jumper",background:"",total:e.pages.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),n("info-dialog",{ref:"infoDialog",on:{success:e.success}}),n("add-dialog",{ref:"addDialog",on:{success:e.success}})],1)},l=[],s=(n("2f62"),n("3558")),o=n("cadb"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"info-dialog"},[n("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"修改投注信息",visible:e.dialogVisible,width:"50%","before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",{staticClass:"content"},[n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px",size:"mini",rules:e.rules}},[n("el-form-item",{attrs:{label:"Id",prop:"id"}},[n("el-input",{attrs:{disabled:""},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),n("el-form-item",{attrs:{label:"区块高度",prop:"block_num"}},[n("el-input",{attrs:{disabled:""},model:{value:e.form.block_num,callback:function(t){e.$set(e.form,"block_num",t)},expression:"form.block_num"}})],1),n("el-form-item",{attrs:{label:"区块hash",prop:"block_hash"}},[n("el-input",{attrs:{disabled:""},model:{value:e.form.block_hash,callback:function(t){e.$set(e.form,"block_hash",t)},expression:"form.block_hash"}})],1),n("el-form-item",{attrs:{label:"交易码",prop:"transactions_id"}},[n("el-input",{attrs:{disabled:""},model:{value:e.form.transactions_id,callback:function(t){e.$set(e.form,"transactions_id",t)},expression:"form.transactions_id"}})],1),n("el-form-item",{attrs:{label:"派发金额",prop:"send_money"}},[n("el-input",{attrs:{disabled:""},model:{value:e.form.send_money,callback:function(t){e.$set(e.form,"send_money",t)},expression:"form.send_money"}})],1),n("el-form-item",{attrs:{label:"服务费",prop:"service_fee"}},[n("el-input",{attrs:{disabled:""},model:{value:e.form.service_fee,callback:function(t){e.$set(e.form,"service_fee",t)},expression:"form.service_fee"}})],1),n("el-form-item",{attrs:{label:"输赢结果",prop:"result"}},[n("el-select",{attrs:{disabled:""},model:{value:e.form.result,callback:function(t){e.$set(e.form,"result",t)},expression:"form.result"}},[n("el-option",{attrs:{label:"用户赢",value:1}}),n("el-option",{attrs:{label:"用户输",value:2}})],1)],1),n("el-form-item",{attrs:{label:"派发状态",prop:"send_status"}},[n("el-select",{model:{value:e.form.send_status,callback:function(t){e.$set(e.form,"send_status",t)},expression:"form.send_status"}},[n("el-option",{attrs:{label:"待派发",value:1}}),n("el-option",{attrs:{label:"已派发",value:2}}),n("el-option",{attrs:{label:"无需派发",value:3}}),n("el-option",{attrs:{label:"派发失败",value:4}})],1)],1),n("el-form-item",{attrs:{label:"备注",prop:"remark"}},[n("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:e.handleClose}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.sure}},[e._v("确 定")])],1)])],1)},i=[],u=(n("a9e3"),n("5f87")),c={name:"info-dialog",data:function(){return{dialogVisible:!1,loading:!1,val:{},passList:[],form:{id:null,block_num:null,block_hash:null,transactions_id:null,result:null,send_money:null,service_fee:null,send_status:null,remark:null},rules:{send_status:[{required:!0,message:"请选择派发状态",trigger:"blur"}]},action:"https://happyhash.xyz/bkapi/api/v1/admin/upload",headers:{Authorization:Object(u["a"])()}}},mounted:function(){},methods:{show:function(e){this.val=e,this.form={id:e.id,block_num:e.block_num,block_hash:e.block_hash,transactions_id:e.transactions_id,result:e.result,send_money:e.send_money,service_fee:e.service_fee,send_status:e.send_status,remark:e.remark},this.dialogVisible=!0},sure:function(){var e=this;this.$refs["form"].validate((function(t){if(t){e.loading=!0;var n={id:String(e.form.id),block_num:Number(e.form.block_num),block_hash:String(e.form.block_hash),transactions_id:String(e.form.transactions_id),result:Number(e.form.result),send_money:Number(e.form.send_money),service_fee:Number(e.form.service_fee),send_status:Number(e.form.send_status),remark:String(e.form.remark)};Object(s["g"])(n).then((function(t){if(e.loading=!1,200!=t.status_code)return e.$notify({title:"提示",message:"修改失败",type:"error"}),!1;e.$notify({title:"提示",message:"修改成功",type:"success"}),e.handleClose(),e.$emit("success")}))}}))},handleClose:function(){this.dialogVisible=!1,this.reset()},reset:function(){this.loading=!1,this.form={id:null,block_num:null,block_hash:null,transactions_id:null,result:null,send_money:null,service_fee:null,send_status:null,remark:null},this.$refs.form.clearValidate()}}},d=c,f=(n("6e87"),n("01eb"),n("2877")),m=Object(f["a"])(d,r,i,!1,null,"71a50957",null),p=m.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add-dialog"},[n("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"运行指定区块任务",visible:e.dialogVisible,width:"50%","before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",{staticClass:"content"},[n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px",size:"mini",rules:e.rules}},[n("el-form-item",{attrs:{label:"起始区块高度",prop:"from_block_num"}},[n("el-input",{model:{value:e.form.from_block_num,callback:function(t){e.$set(e.form,"from_block_num",t)},expression:"form.from_block_num"}})],1),n("el-form-item",{attrs:{label:"结束区块高度",prop:"to_block_num"}},[n("el-input",{model:{value:e.form.to_block_num,callback:function(t){e.$set(e.form,"to_block_num",t)},expression:"form.to_block_num"}})],1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:e.handleClose}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.sure}},[e._v("确 定")])],1)])],1)},_=[],h={name:"add-dialog",data:function(){return{dialogVisible:!1,loading:!1,list:[],form:{from_block_num:null,to_block_num:null},rules:{from_block_num:[{required:!0,message:"输入开始区块高度",trigger:"blur"}],to_block_num:[{required:!0,message:"请输入结束区块高度",trigger:"blur"}]}}},mounted:function(){},methods:{show:function(){this.dialogVisible=!0},sure:function(){var e=this;this.$refs["form"].validate((function(t){if(t){e.loading=!0;var n={to_block_num:Number(e.form.to_block_num),from_block_num:Number(e.form.from_block_num)};Object(s["f"])(n).then((function(t){if(e.loading=!1,200!=t.status_code)return e.$notify({title:"提示",message:"失败",type:"error"}),!1;e.$notify({title:"提示",message:"成功",type:"success"}),e.handleClose(),e.$emit("success")})).catch((function(t){e.loading=!1}))}}))},handleClose:function(){this.dialogVisible=!1,this.reset()},reset:function(){this.loading=!1,this.form={game_no:null,status:null,wallet_address:null,wallet_kind:null,wallet_type:null,belong_user_no:null},this.$refs.form.clearValidate()}}},g=h,v=(n("ce61"),n("dab0"),Object(f["a"])(g,b,_,!1,null,"d9461812",null)),k=v.exports,w={name:"bet-index",components:{infoDialog:p,addDialog:k},data:function(){return{base:"https://happyhash.xyz/bkapi",list:[],disabled:!0,multipleSelection:[],pages:{page:1,per_page:10,total:null}}},filters:{formatDate:function(e){e*=1e3;var t=new Date(e);return Object(o["a"])(t,"yyyy-MM-dd hh:mm")}},mounted:function(){this.getBetList()},methods:{getBetList:function(){var e=this,t={page:this.pages.page,per_page:this.pages.per_page};Object(s["b"])(t).then((function(t){console.log(t),200==t.status_code&&(e.list=t.data.data,e.pages.total=t.data.total)}))},handleSelectionChange:function(e){this.multipleSelection=e,console.log(e),1==e.length?this.disabled=!1:this.disabled=!0},handleSizeChange:function(e){this.pages.per_page=e,this.getBetList()},handleCurrentChange:function(e){this.pages.page=e,this.getBetList()},updateBet:function(e){this.$refs.infoDialog.show(e)},add:function(){this.$refs.addDialog.show()},success:function(){this.getBetList()},refund:function(e){var t=this;this.$confirm("此操作将退还该用户的收益, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n={id:String(e.id)};Object(s["e"])(n).then((function(e){200==e.status_code?(t.$message({type:"success",message:"退还成功!"}),t.getBetList()):t.$message({type:"error",message:"退还失败"})}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},deleteBet:function(e){var t=this;this.$confirm("此操作将删除该项目, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n={id:String(e.id)};Object(s["a"])(n).then((function(e){200==e.status_code?(t.$message({type:"success",message:"删除成功!"}),t.getBetList()):t.$message({type:"error",message:"删除失败"})}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},y=w,$=(n("1117"),Object(f["a"])(y,a,l,!1,null,"35146c3b",null));t["default"]=$.exports},dab0:function(e,t,n){"use strict";n("bf43")}}]);