(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76f27f4e"],{"03a8":function(e,t,n){"use strict";n("d678")},"07e2":function(e,t,n){},"0f18":function(e,t,n){},"10f8":function(e,t,n){"use strict";n("07e2")},"1bf3":function(e,t,n){},"28b1":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"company-index-container"},[e._m(0),n("div",{staticClass:"tables"},[n("div",{staticClass:"opts"},[n("el-button",{attrs:{type:"text",icon:"el-icon-coin",disabled:e.disabled},on:{click:e.recharge}},[e._v("充值")]),n("el-button",{attrs:{type:"text",icon:"el-icon-coin",disabled:e.disabled},on:{click:e.rechargeList}},[e._v("充值记录")]),n("el-button",{attrs:{type:"text",icon:"el-icon-coin",disabled:e.disabled},on:{click:e.addWhite}},[e._v("新增白名单")]),n("el-button",{attrs:{type:"text",icon:"el-icon-coin",disabled:e.disabled},on:{click:e.whiteList}},[e._v("白名单列表")]),n("el-button",{attrs:{type:"text",icon:"el-icon-coin",disabled:e.disabled},on:{click:e.consumeList}},[e._v("消费记录")]),n("el-button",{attrs:{type:"text",icon:"el-icon-coin",disabled:e.disabled},on:{click:e.numberList}},[e._v("小号列表")])],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,"header-cell-style":{background:"#ececec"},height:"calc(100% - 112px)",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{prop:"company_no",label:"code",width:"180"}}),n("el-table-column",{attrs:{prop:"company_name",label:"公司名称",width:"180"}}),n("el-table-column",{attrs:{prop:"phone",label:"联系方式",width:"180"}}),n("el-table-column",{attrs:{prop:"total_balance",label:"总金额",width:"180"}}),n("el-table-column",{attrs:{prop:"balance",label:"可用余额",width:"180"}}),n("el-table-column",{attrs:{prop:"freeze_balance",label:"冻结金额",width:"180"}}),n("el-table-column",{attrs:{prop:"freeze_balance",label:"企业认证状态",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.auth_status?n("span",{staticStyle:{color:"green"}},[e._v("已认证")]):e._e(),2==t.row.auth_status?n("span",{staticStyle:{color:"red"}},[e._v("未认证")]):e._e()]}}])}),n("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){return e.price(t.row)}}},[e._v("价格")]),n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(n){return e.examine(t.row)}}},[e._v("审核")])]}}])})],1),n("el-pagination",{attrs:{"current-page":e.pages.current_page,"page-sizes":[10,20,50,100],"page-size":e.pages.per_page,layout:"total, sizes, prev, pager, next, jumper",background:"",total:e.pages.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),n("recharge-dialog",{ref:"rechargeDialog",on:{success:e.success}}),n("price-dialog",{ref:"priceDialog",on:{success:e.success}}),n("add-white-dialog",{ref:"addWhiteDialog",on:{success:e.success}}),n("examine-dialog",{ref:"examineDialog",on:{success:e.success}})],1)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title"},[n("h2",[e._v("公司列表")])])}],a=(n("2f62"),n("fcac")),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"recharge-dialog"},[n("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"充值",visible:e.dialogVisible,width:"50%","before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",{staticClass:"content"},[n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",size:"mini",rules:e.rules}},[n("el-form-item",{attrs:{label:"公司名称",prop:"company_no"}},[n("el-input",{attrs:{disabled:""},model:{value:e.form.company_name,callback:function(t){e.$set(e.form,"company_name",t)},expression:"form.company_name"}})],1),n("el-form-item",{attrs:{label:"公司编号",prop:"company_no"}},[n("el-input",{attrs:{disabled:""},model:{value:e.form.company_no,callback:function(t){e.$set(e.form,"company_no",t)},expression:"form.company_no"}})],1),n("el-form-item",{attrs:{label:"充值金额",prop:"money"}},[n("el-input",{attrs:{type:"number"},model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}})],1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:e.handleClose}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.sure}},[e._v("确 定")])],1)])],1)},l=[],s=n("cd05"),c={name:"Application-all",data:function(){return{dialogVisible:!1,loading:!1,val:{},form:{company_name:null,company_no:null,money:null},rules:{company_name:[{required:!0,message:"请输入公司名称",trigger:"blur"}],company_no:[{required:!0,message:"请输入公司编号",trigger:"blur"}],money:[{required:!0,message:"请输入充值金额",trigger:"blur"}]}}},mounted:function(){},methods:{show:function(e){this.val=e,this.form.company_no=e.company_no,this.form.company_name=e.company_name,this.dialogVisible=!0,console.log(e)},sure:function(){var e=this;this.$refs["form"].validate((function(t){if(t){e.loading=!0;var n={company_no:e.form.company_no,money:e.form.money};Object(s["c"])(n).then((function(t){if(e.loading=!1,200!=t.status_code)return e.$notify({title:"提示",message:"创建失败",type:"error"}),!1;e.$notify({title:"提示",message:"充值成功",type:"success"}),e.handleClose(),e.$emit("success")}))}}))},handleClose:function(){this.dialogVisible=!1,this.reset()},reset:function(){this.loading=!1,this.form={company_no:null,money:null},this.$refs.form.clearValidate()}}},m=c,u=(n("a4a3"),n("2877")),p=Object(u["a"])(m,r,l,!1,null,"bbb10d50",null),d=p.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"price-dialog"},[n("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"价格配置",visible:e.dialogVisible,width:"50%","before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",{staticClass:"content"},[n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px",size:"mini",rules:e.rules}},[n("el-form-item",{attrs:{label:"公司名称",prop:"company_no"}},[n("el-input",{attrs:{disabled:""},model:{value:e.form.company_name,callback:function(t){e.$set(e.form,"company_name",t)},expression:"form.company_name"}})],1),n("el-form-item",{attrs:{label:"公司编号",prop:"company_no"}},[n("el-input",{attrs:{disabled:""},model:{value:e.form.company_no,callback:function(t){e.$set(e.form,"company_no",t)},expression:"form.company_no"}})],1),n("el-form-item",{attrs:{label:"每个小号月租费",prop:"month_rent_price"}},[n("el-input",{attrs:{type:"number"},model:{value:e.form.month_rent_price,callback:function(t){e.$set(e.form,"month_rent_price",t)},expression:"form.month_rent_price"}})],1),n("el-form-item",{attrs:{label:"计费模式",prop:"price_mode"}},[n("el-select",{model:{value:e.form.price_mode,callback:function(t){e.$set(e.form,"price_mode",t)},expression:"form.price_mode"}},[n("el-option",{attrs:{label:"每通",value:1}}),n("el-option",{attrs:{label:"分钟",value:2}})],1)],1),2==e.form.price_mode||null==e.form.price_mode?n("el-form-item",{attrs:{label:"每分钟通话费",prop:"minute_price"}},[n("el-input",{attrs:{type:"number"},model:{value:e.form.minute_price,callback:function(t){e.$set(e.form,"minute_price",t)},expression:"form.minute_price"}})],1):e._e(),2==e.form.price_mode||null==e.form.price_mode?n("el-form-item",{attrs:{label:"每分钟录音费",prop:"sound_price"}},[n("el-input",{attrs:{type:"number"},model:{value:e.form.sound_price,callback:function(t){e.$set(e.form,"sound_price",t)},expression:"form.sound_price"}})],1):e._e(),1==e.form.price_mode?n("el-form-item",{attrs:{label:"每通通话费",prop:"per_price"}},[n("el-input",{attrs:{type:"number"},model:{value:e.form.per_price,callback:function(t){e.$set(e.form,"per_price",t)},expression:"form.per_price"}})],1):e._e(),1==e.form.price_mode?n("el-form-item",{attrs:{label:"每通录音费",prop:"per_sound_price"}},[n("el-input",{attrs:{type:"number"},model:{value:e.form.per_sound_price,callback:function(t){e.$set(e.form,"per_sound_price",t)},expression:"form.per_sound_price"}})],1):e._e()],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:e.handleClose}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.sure}},[e._v("确 定")])],1)])],1)},_=[],h={name:"Price-dialog",data:function(){return{dialogVisible:!1,loading:!1,val:{},form:{company_name:null,company_no:null,month_rent_price:null,price_mode:null,minute_price:null,sound_price:null,per_price:null,per_sound_price:null},rules:{company_name:[{required:!0,message:"请输入公司名称",trigger:"blur"}],company_no:[{required:!0,message:"请输入公司编号",trigger:"blur"}],month_rent_price:[{required:!0,message:"请输入每个小号月租费",trigger:"blur"}],price_mode:[{required:!0,message:"请选择计费模式",trigger:"blur"}],minute_price:[{required:!0,message:"请输入每分钟通话费",trigger:"blur"}],sound_price:[{required:!0,message:"请输入每分钟录音费",trigger:"blur"}],per_price:[{required:!0,message:"请输入每通通话费",trigger:"blur"}],per_sound_price:[{required:!0,message:"请输入每通录音费",trigger:"blur"}]}}},mounted:function(){},methods:{show:function(e){this.val=e,this.getPriceConfig(),this.form.company_no=e.company_no,this.form.company_name=e.company_name,this.dialogVisible=!0},getPriceConfig:function(){var e=this,t={company_no:this.val.company_no};Object(a["e"])(t).then((function(t){if(200==t.status_code){if(0==t.data.length)return;e.form.month_rent_price=t.data.month_rent_price,e.form.minute_price=t.data.minute_price,e.form.sound_price=t.data.sound_price,e.form.price_mode=t.data.price_mode,e.form.per_price=t.data.per_price,e.form.per_sound_price=t.data.per_sound_price}}))},sure:function(){var e=this;this.$refs["form"].validate((function(t){if(t){e.loading=!0;var n={};n=1==e.form.price_mode?{company_no:e.form.company_no,month_rent_price:e.form.month_rent_price,price_mode:e.form.price_mode,per_price:e.form.per_price,per_sound_price:e.form.per_sound_price}:{company_no:e.form.company_no,month_rent_price:e.form.month_rent_price,price_mode:e.form.price_mode,minute_price:e.form.minute_price,sound_price:e.form.sound_price},Object(a["g"])(n).then((function(t){if(e.loading=!1,200!=t.status_code)return e.$notify({title:"提示",message:"修改失败",type:"error"}),!1;e.$notify({title:"提示",message:"修改成功",type:"success"}),e.handleClose()}))}}))},handleClose:function(){this.dialogVisible=!1,this.reset()},reset:function(){this.loading=!1,this.form={company_name:null,company_no:null,month_rent_price:null,price_mode:null,minute_price:null,sound_price:null,per_price:null,per_sound_price:null},this.$refs.form.clearValidate()}}},g=h,b=(n("c1c2"),Object(u["a"])(g,f,_,!1,null,"ed0c3fae",null)),y=b.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add-white-dialog"},[n("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"新增白名单",visible:e.dialogVisible,width:"50%","before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",{staticClass:"content"},[n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px",size:"mini",rules:e.rules}},[n("el-form-item",{attrs:{label:"公司名称",prop:"company_no"}},[n("el-input",{attrs:{disabled:""},model:{value:e.form.company_name,callback:function(t){e.$set(e.form,"company_name",t)},expression:"form.company_name"}})],1),n("el-form-item",{attrs:{label:"公司编号",prop:"company_no"}},[n("el-input",{attrs:{disabled:""},model:{value:e.form.company_no,callback:function(t){e.$set(e.form,"company_no",t)},expression:"form.company_no"}})],1),n("el-form-item",{attrs:{label:"白名单ip",prop:"ips"}},[n("el-input",{attrs:{type:"text"},model:{value:e.form.ips,callback:function(t){e.$set(e.form,"ips",t)},expression:"form.ips"}})],1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:e.handleClose}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.sure}},[e._v("确 定")])],1)])],1)},w=[],x={name:"Add-white-dialog",data:function(){return{dialogVisible:!1,loading:!1,val:{},form:{company_name:null,company_no:null,ips:null},rules:{company_name:[{required:!0,message:"请输入公司名称",trigger:"blur"}],company_no:[{required:!0,message:"请输入公司编号",trigger:"blur"}],ips:[{required:!0,message:"请输入白名单",trigger:"blur"}]}}},mounted:function(){},methods:{show:function(e){this.val=e,this.form.company_no=e.company_no,this.form.company_name=e.company_name,this.dialogVisible=!0},sure:function(){var e=this;this.$refs["form"].validate((function(t){if(t){e.loading=!0;var n={company_no:e.form.company_no,ips:e.form.ips};Object(a["a"])(n).then((function(t){if(e.loading=!1,200!=t.status_code)return e.$notify({title:"提示",message:"新增失败",type:"error"}),!1;e.$notify({title:"提示",message:"新增成功",type:"success"}),e.handleClose()})).catch((function(t){e.loading=!1}))}}))},handleClose:function(){this.dialogVisible=!1,this.reset()},reset:function(){this.loading=!1,this.form={company_name:null,company_no:null,ips:null},this.$refs.form.clearValidate()}}},C=x,$=(n("10f8"),Object(u["a"])(C,v,w,!1,null,"bf402f44",null)),k=$.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"examine-dialog"},[n("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"审核",visible:e.dialogVisible,width:"50%","before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",{staticClass:"content"},[n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",size:"mini",rules:e.rules}},[n("el-form-item",{attrs:{label:"公司名称",prop:"company_no"}},[n("el-input",{attrs:{disabled:""},model:{value:e.form.company_name,callback:function(t){e.$set(e.form,"company_name",t)},expression:"form.company_name"}})],1),n("el-form-item",{attrs:{label:"公司编号",prop:"company_no"}},[n("el-input",{attrs:{disabled:""},model:{value:e.form.company_no,callback:function(t){e.$set(e.form,"company_no",t)},expression:"form.company_no"}})],1),n("el-form-item",{attrs:{label:"营业执照",prop:"money"}},[n("div",{staticClass:"img"},[n("img",{attrs:{src:e.oss_host+"/"+e.val.license_path,alt:""}})])])],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:e.handleClose}},[e._v("取 消")]),n("el-button",{attrs:{type:"danger",size:"mini",disabled:1==e.val.auth_status},on:{click:function(t){return e.sure(2)}}},[e._v("拒绝")]),n("el-button",{attrs:{type:"primary",size:"mini",disabled:1==e.val.auth_status},on:{click:function(t){return e.sure(1)}}},[e._v("通过")])],1)])],1)},V=[],j={name:"examine-dialog",data:function(){return{dialogVisible:!1,loading:!1,val:{},oss_host:"http://callct.oss-cn-shenzhen.aliyuncs.com",form:{company_name:null,company_no:null,money:null},rules:{company_name:[{required:!0,message:"请输入公司名称",trigger:"blur"}],company_no:[{required:!0,message:"请输入公司编号",trigger:"blur"}]}}},mounted:function(){},methods:{show:function(e){console.log(e),this.val=e,this.form.company_no=e.company_no,this.form.company_name=e.company_name,this.dialogVisible=!0},sure:function(e){var t=this;this.$refs["form"].validate((function(n){if(n){t.loading=!0;var o={company_no:t.form.company_no,auth_status:e};Object(a["b"])(o).then((function(e){if(t.loading=!1,200!=e.status_code)return t.$notify({title:"提示",message:"创建失败",type:"error"}),!1;t.$notify({title:"提示",message:"操作成功",type:"success"}),t.handleClose(),t.$emit("success")}))}}))},handleClose:function(){this.dialogVisible=!1,this.reset()},reset:function(){this.loading=!1,this.form={company_no:null,money:null},this.$refs.form.clearValidate()}}},O=j,q=(n("03a8"),Object(u["a"])(O,z,V,!1,null,"e234e798",null)),S=q.exports,L={name:"finance-record",components:{rechargeDialog:d,priceDialog:y,addWhiteDialog:k,examineDialog:S},data:function(){return{list:[],disabled:!0,multipleSelection:[],pages:{current_page:1,per_page:10,total:null}}},mounted:function(){this.getCompanyList()},methods:{getCompanyList:function(){var e=this,t={current_page:this.pages.current_page,per_page:this.pages.per_page};Object(a["d"])(t).then((function(t){console.log(t),200==t.status_code&&(e.list=t.data.data,e.pages.total=t.data.total)}))},handleSelectionChange:function(e){this.multipleSelection=e,console.log(e),1==e.length?this.disabled=!1:this.disabled=!0},handleSizeChange:function(e){this.pages.per_page=e,this.getCompanyList()},handleCurrentChange:function(e){this.pages.current_page=e,this.getCompanyList()},recharge:function(){this.$refs.rechargeDialog.show(this.multipleSelection[0])},price:function(e){this.$refs.priceDialog.show(e)},examine:function(e){this.$refs.examineDialog.show(e)},addWhite:function(){this.$refs.addWhiteDialog.show(this.multipleSelection[0])},success:function(){this.getCompanyList()},rechargeList:function(){this.$router.push({path:"/finance/record",query:{company_no:this.multipleSelection[0].company_no}})},whiteList:function(){this.$router.push({path:"/company/white",query:{company_no:this.multipleSelection[0].company_no}})},consumeList:function(){this.$router.push({path:"/finance/consume",query:{company_no:this.multipleSelection[0].company_no}})},numberList:function(){this.$router.push({path:"/number/index",query:{company_no:this.multipleSelection[0].company_no}})}}},D=L,E=(n("fa82"),Object(u["a"])(D,o,i,!1,null,"3a4a8c49",null));t["default"]=E.exports},a4a3:function(e,t,n){"use strict";n("b33f")},b33f:function(e,t,n){},c1c2:function(e,t,n){"use strict";n("0f18")},cd05:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var o=n("b775");function i(e){return Object(o["a"])({url:"/v1/admin/recharge/list",method:"get",params:e})}function a(e){return Object(o["a"])({url:"/v1/admin/recharge",method:"post",data:e})}function r(e){return Object(o["a"])({url:"/v1/admin/consume/list",method:"get",params:e})}},d678:function(e,t,n){},fa82:function(e,t,n){"use strict";n("1bf3")},fcac:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return m}));var o=n("b775");function i(){return Object(o["a"])({url:"/v1/admin/company/list",method:"get"})}function a(e){return Object(o["a"])({url:"/v1/admin/price-config/info",method:"get",params:e})}function r(e){return Object(o["a"])({url:"/v1/admin/price-config/modify",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/v1/admin/company/white-ip-list",method:"get",params:e})}function s(e){return Object(o["a"])({url:"/v1/admin/company/add-white-ip",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/v1/admin/company/white-ip",method:"DELETE",data:e})}function m(e){return Object(o["a"])({url:"/v1/admin/review/review-company-apply",method:"post",data:e})}}}]);