(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8cdce4ca"],{"3e1f":function(a,e,s){"use strict";s.r(e);var n=function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("div",{staticClass:"account-index-container"},[a._m(0),s("div",{staticClass:"base-box"},[s("div",{staticClass:"section section1"},[s("ul",[s("li",[s("span",{staticClass:"lab"},[a._v("登录名：")]),s("span",{staticClass:"value"},[a._v(a._s(a.user_info.name))]),s("div",{staticClass:"btns"},[s("el-button",{attrs:{plain:"",size:"mini"},on:{click:a.changeNameBtn}},[a._v("更改")])],1)]),s("li",[s("span",{staticClass:"lab"},[a._v("邮箱：")]),s("span",{staticClass:"value"},[a._v(a._s(a.user_info.email))]),s("div",{staticClass:"btns"},[s("el-button",{attrs:{plain:"",size:"mini"},on:{click:a.changeEmailBtn}},[a._v("更改")])],1)])])]),s("div",{staticClass:"section section1"},[s("ul",[s("li",[s("span",{staticClass:"lab"},[a._v("公司名称：")]),s("span",{staticClass:"value"},[a._v(a._s(a.user_info.admin_company?a.user_info.admin_company.name:"暂无"))]),s("div",{staticClass:"btns"},[s("el-button",{attrs:{plain:"",size:"mini"},on:{click:a.changeCompanyName}},[a._v("更改")])],1)]),s("li",[s("span",{staticClass:"lab"},[a._v("收款银行：")]),s("span",{staticClass:"value"},[a._v(a._s(a.user_info.admin_company_info?a.user_info.admin_company_info.bank:"暂无"))]),s("div",{staticClass:"btns"},[s("el-button",{attrs:{plain:"",size:"mini"},on:{click:function(a){}}},[a._v("更改")])],1)]),s("li",[s("span",{staticClass:"lab"},[a._v("银行全称：")]),s("span",{staticClass:"value"},[a._v(a._s(a.user_info.admin_company_info?a.user_info.admin_company_info.due_bank:"暂无"))]),s("div",{staticClass:"btns"},[s("el-button",{attrs:{plain:"",size:"mini"},on:{click:function(a){}}},[a._v("更改")])],1)]),s("li",[s("span",{staticClass:"lab"},[a._v("收款人：")]),s("span",{staticClass:"value"},[a._v(a._s(a.user_info.admin_company_info?a.user_info.admin_company_info.payee:"暂无"))]),s("div",{staticClass:"btns"},[s("el-button",{attrs:{plain:"",size:"mini"},on:{click:function(a){}}},[a._v("更改")])],1)]),s("li",[s("span",{staticClass:"lab"},[a._v("收款账户：")]),s("span",{staticClass:"value"},[a._v(a._s(a.user_info.admin_company_info?a.user_info.admin_company_info.card_no:"暂无"))]),s("div",{staticClass:"btns"},[s("el-button",{attrs:{plain:"",size:"mini"},on:{click:function(a){}}},[a._v("更改")])],1)]),s("li",[s("span",{staticClass:"lab"},[a._v("联系人：")]),s("span",{staticClass:"value"},[a._v(a._s(a.user_info.admin_company_info?a.user_info.admin_company_info.contact:"暂无"))]),s("div",{staticClass:"btns"},[s("el-button",{attrs:{plain:"",size:"mini"},on:{click:function(a){}}},[a._v("更改")])],1)]),s("li",[s("span",{staticClass:"lab"},[a._v("联系号码：")]),s("span",{staticClass:"value"},[a._v(a._s(a.user_info.admin_company_info?a.user_info.admin_company_info.phone:"暂无"))]),s("div",{staticClass:"btns"},[s("el-button",{attrs:{plain:"",size:"mini"},on:{click:function(a){}}},[a._v("更改")])],1)])])])]),s("change-user-dialog",{ref:"changeUserDialog"})],1)},i=[function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("div",{staticClass:"title"},[s("h2",[a._v("基本信息")])])}],t=s("5530"),l=(s("b0c0"),s("2f62")),o=s("c24f"),c=function(){var a=this,e=a.$createElement,s=a._self._c||e;return a.dialogVisible?s("div",{staticClass:"change-email-dialog"},[s("el-dialog",{attrs:{title:a.base.title,visible:a.dialogVisible,width:"50%",center:"","before-close":a.handleClose},on:{"update:visible":function(e){a.dialogVisible=e}}},[s("div",{staticClass:"content"},[s("el-form",{ref:"form",staticStyle:{width:"80%",margin:"0 auto"},attrs:{model:a.form,"label-width":"80px",rules:a.rules}},[s("el-form-item",{attrs:{label:a.base.cn_label,prop:a.base.en_label}},[s("el-input",{model:{value:a.form[a.base.en_label],callback:function(e){a.$set(a.form,a.base.en_label,e)},expression:"form[base.en_label]"}})],1)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"mini"},on:{click:a.handleClose}},[a._v("取 消")]),s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:a.sure}},[a._v("确 定")])],1)])],1):a._e()},r=[],_={name:"change-email-dialog",data:function(){return{dialogVisible:!1,base:{title:null,en_label:null,cn_label:null},form:{name:null,email:null,company_name:null,role_key:null},rules:{email:[{required:!0,message:"请输入邮箱",trigger:"blur"}],company_name:[{required:!0,message:"请输入公司名称",trigger:"blur"}],name:[{required:!0,message:"请输入用户名称",trigger:"blur"}]}}},methods:{show:function(a){this.dialogVisible=!0,this.base.title=a.title,this.base.en_label=a.en_label,this.base.cn_label=a.cn_label,this.form[a.en_label]=a.value},sure:function(){var a=this;this.$refs["form"].validate((function(e){if(e){var s={};s[a.base.en_label]=a.form[a.base.en_label],console.log(s),Object(o["a"])(s).then((function(e){200==e.status_code?(a.$message({type:"success",message:"修改成功"}),a.$store.dispatch("user/getInfo"),a.handleClose()):a.$message({type:"error",message:e.err_msg})}))}}))},handleClose:function(a){this.reset()},reset:function(){var a=this;this.form={name:null,email:null,company_name:null,license_path:null},this.$nextTick((function(){console.log(a.$refs.form,"this.$refs.form"),a.$refs.form.clearValidate(),a.dialogVisible=!1}))}}},u=_,m=(s("91ed"),s("2877")),f=Object(m["a"])(u,c,r,!1,null,"79b51c0a",null),b=f.exports,d={name:"Account-index",components:{changeUserDialog:b},computed:Object(t["a"])({},Object(l["b"])(["user_info"])),mounted:function(){console.log(this.user_info)},methods:{changeEmailBtn:function(){var a={title:"修改邮箱",en_label:"email",cn_label:"邮箱",value:this.user_info.email};this.$refs.changeUserDialog.show(a)},changeCompanyName:function(){var a={title:"修改公司名称",en_label:"company_name",cn_label:"公司名称",value:this.user_info.admin_company?this.user_info.admin_company.name:null};this.$refs.changeUserDialog.show(a)},changeNameBtn:function(){var a={title:"修改用户名",en_label:"name",cn_label:"用户名称",value:this.user_info.name};this.$refs.changeUserDialog.show(a)}}},p=d,v=(s("9eec"),Object(m["a"])(p,n,i,!1,null,"6ec6eedc",null));e["default"]=v.exports},"438a":function(a,e,s){},"91ed":function(a,e,s){"use strict";s("9d2d")},"9d2d":function(a,e,s){},"9eec":function(a,e,s){"use strict";s("438a")}}]);