(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2329a5ee"],{"29f2":function(e,a,l){},"3e1f":function(e,a,l){"use strict";l.r(a);var s=function(){var e=this,a=e.$createElement,l=e._self._c||a;return l("div",{staticClass:"account-index-container"},[e._m(0),l("div",{staticClass:"base-box"},[l("div",{staticClass:"section section1"},[l("ul",[l("li",[l("span",{staticClass:"lab"},[e._v("登录名：")]),l("span",{staticClass:"value"},[e._v(e._s(e.user_info.name))]),l("div",{staticClass:"btns"},[l("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.changeNameBtn}},[e._v("更改")])],1)]),l("li",[l("span",{staticClass:"lab"},[e._v("邮箱：")]),l("span",{staticClass:"value"},[e._v(e._s(e.user_info.email))]),l("div",{staticClass:"btns"},[l("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.changeEmailBtn}},[e._v("更改")])],1)])])])]),l("change-user-dialog",{ref:"changeUserDialog"})],1)},t=[function(){var e=this,a=e.$createElement,l=e._self._c||a;return l("div",{staticClass:"title"},[l("h2",[e._v("基本信息")])])}],n=l("5530"),i=(l("b0c0"),l("2f62")),o=function(){var e=this,a=e.$createElement,l=e._self._c||a;return e.dialogVisible?l("div",{staticClass:"change-email-dialog"},[l("el-dialog",{attrs:{title:e.base.title,visible:e.dialogVisible,width:"50%",center:"","before-close":e.handleClose},on:{"update:visible":function(a){e.dialogVisible=a}}},[l("div",{staticClass:"content"},[l("el-form",{ref:"form",staticStyle:{width:"80%",margin:"0 auto"},attrs:{model:e.form,"label-width":"80px",rules:e.rules}},[l("el-form-item",{attrs:{label:e.base.cn_label,prop:e.base.en_label}},[l("el-input",{model:{value:e.form[e.base.en_label],callback:function(a){e.$set(e.form,e.base.en_label,a)},expression:"form[base.en_label]"}})],1)],1)],1),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{size:"mini"},on:{click:e.handleClose}},[e._v("取 消")]),l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.sure}},[e._v("确 定")])],1)])],1):e._e()},c=[],r=l("c24f"),u={name:"change-email-dialog",data:function(){return{dialogVisible:!1,base:{title:null,en_label:null,cn_label:null},form:{name:null,email:null,company_name:null,role_key:null},rules:{email:[{required:!0,message:"请输入邮箱",trigger:"blur"}],company_name:[{required:!0,message:"请输入公司名称",trigger:"blur"}],name:[{required:!0,message:"请输入用户名称",trigger:"blur"}]}}},methods:{show:function(e){this.dialogVisible=!0,this.base.title=e.title,this.base.en_label=e.en_label,this.base.cn_label=e.cn_label,this.form[e.en_label]=e.value},sure:function(){var e=this;this.$refs["form"].validate((function(a){if(a){var l={};l[e.base.en_label]=e.form[e.base.en_label],console.log(l),Object(r["c"])(l).then((function(a){200==a.status_code?(e.$message({type:"success",message:"修改成功"}),e.$store.dispatch("user/getInfo"),e.handleClose()):e.$message({type:"error",message:a.err_msg})}))}}))},handleClose:function(e){this.reset()},reset:function(){var e=this;this.form={name:null,email:null,company_name:null,license_path:null},this.$nextTick((function(){console.log(e.$refs.form,"this.$refs.form"),e.$refs.form.clearValidate(),e.dialogVisible=!1}))}}},m=u,b=(l("91ed"),l("2877")),f=Object(b["a"])(m,o,c,!1,null,"79b51c0a",null),d=f.exports,_={name:"Account-index",components:{changeUserDialog:d},computed:Object(n["a"])({},Object(i["b"])(["user_info"])),mounted:function(){console.log(this.user_info)},methods:{changeEmailBtn:function(){var e={title:"修改邮箱",en_label:"email",cn_label:"邮箱",value:this.user_info.email};this.$refs.changeUserDialog.show(e)},changeCompanyName:function(){var e={title:"修改公司名称",en_label:"company_name",cn_label:"公司名称",value:this.user_info.admin_company?this.user_info.admin_company.name:null};this.$refs.changeUserDialog.show(e)},changeNameBtn:function(){var e={title:"修改用户名",en_label:"name",cn_label:"用户名称",value:this.user_info.name};this.$refs.changeUserDialog.show(e)}}},h=_,g=(l("bbd6"),Object(b["a"])(h,s,t,!1,null,"6fac731d",null));a["default"]=g.exports},"91ed":function(e,a,l){"use strict";l("9d2d")},"9d2d":function(e,a,l){},bbd6:function(e,a,l){"use strict";l("29f2")}}]);